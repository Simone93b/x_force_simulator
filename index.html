<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title> Test </title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg==" crossorigin="anonymous" referrerpolicy="no-referrer"link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/brands.min.css" integrity="sha512-EJp8vMVhYl7tBFE2rgNGb//drnr1+6XKMvTyamMS34YwOEFohhWkGq13tPWnK0FbjSS6D8YoA3n3bZmb3KiUYA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.14.3/cdn.min.js" integrity="sha512-ZVf/lRjmZflPdIT4hvK4g1T6WupvrXtoTAM86z3S+5En7AhDVhBaxLRF4blGftmzhhPigloA8EP8OTO/Aabmng==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        :root {
            --dsny-red: #A12E21;
            --dsny-gold: #D5B646;
            --dsny-light: #F0E3BD;
        }

        body {
            background-color: #333;
            font-family: sans-serif;
            font-size: 14px;
        }
        .bg-dsny-red {
            background-color: var(--dsny-red) !important;
        }
        .bg-dsny-gold {
            background-color: var(--dsny-gold) !important;
        }
        .bg-dsny-light {
            background-color: var(--dsny-light) !important;
        }
        .text-dsny-red {
            color: var(--dsny-red) !important;
        }
        .text-dsny-gold {
            color: var(--dsny-gold) !important;
        }
        .text-dsny-light {
            color: var(--dsny-light) !important;
        }
        
        .card {
            height: 30px;
            width: 21px;
            background-color: #666;
            color: #ccc;
            font-size: 12px;
        }
        .card.golded {
            background-color: var(--dsny-light);
            color: var(--dsny-red);
        }
        .card.card-fluid {
            width: auto;
            padding-left: 4px;
            padding-right: 4px;
        }

        .open-box, .open-box:hover {
            border: 2px solid var(--dsny-light);
            box-shadow: 0 0 5px var(--dsny-light);
            color: var(--dsny-red);
            font-weight: bold;
        }

        .col-dx {
            border-left: 2px solid #666;
        }

        .modal-wrapper {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background-color: rgba(0, 0, 0, 0.75);
            z-index: 9999;
        }
        .modal-wrapper .modal-content {
            top: 50%;
            left: 50%;
            background-color: rgba(250, 250, 250, 0.75);
            float: left;
            width: auto;
            transform: translate(-50%, -50%);
            font-size: 14px;
            max-height: 90vh;
            max-width: 90vw;
            overflow: auto;
        }
    </style>

    <script>
        document.addEventListener('alpine:init', () => {
            let obj = {
                // numberedPull: [],
                cards: {
                    regular: {},
                    regularParallel: {},
                    regular500: {},
                    regular300: {},
                    regular200: {},
                    regular100: {},
                    regular75: {},
                    regular50: {},
                    regular25: {},
                    regular10: {},
                    regular5: {},
                    regular1: {},
                    specialLenticular: {},
                    specialCanvas: {},
                    specialGlow: {},
                    specialCel: {},
                    medallion: {},
                    memorabiliaSketch: {},
                    memorabiliaSigned: {},
                    memorabiliaFrame: {},
                    memorabiliaBadge: {},
                    promo: 0,
                    guide: 0,
                    checklist: 0,
                    signedChecklist: 0,
                    emptyBox: 0,
                    emptyPacks: 0
                },
                pool: {
                    regular: [],
                    parallel: [],
                    numbered: [],
                    special: [],
                    medallion: [],
                    memorabilia: [],
                    signedChecklist: [],
                },
                lastBox: {
                    hasSignedChecklist: false,
                    medallion: {
                        isNew: false,
                        card: ''
                    },
                    memorabilia: {
                        isNew: false,
                        type: '',
                        card: ''
                    },
                    special: [],
                    regular: [],
                    parallel: [],
                    numbered: [],
                },
                translateType: function(type){
                    let translate = ''
                    if( type == 'memorabiliaSketch' ){
                        translate = 'Sketch'
                    }
                    if( type == 'memorabiliaSigned' ){
                        translate = 'Signed'
                    }
                    if( type == 'memorabiliaFrame' ){
                        translate = 'Frame'
                    }
                    if( type == 'memorabiliaBadge' ){
                        translate = 'Badge'
                    }
                    if( type == 'regular500' ){
                        translate = '/500'
                    }
                    if( type == 'regular300' ){
                        translate = '/300'
                    }
                    if( type == 'regular200' ){
                        translate = '/200'
                    }
                    if( type == 'regular100' ){
                        translate = '/100'
                    }
                    if( type == 'regular75' ){
                        translate = '/75'
                    }
                    if( type == 'regular50' ){
                        translate = '/50'
                    }
                    if( type == 'regular25' ){
                        translate = '/25'
                    }
                    if( type == 'regular10' ){
                        translate = '/10'
                    }
                    if( type == 'regular5' ){
                        translate = '/5'
                    }
                    if( type == 'regular1' ){
                        translate = '/1'
                    }
                    return translate
                },
                openBox: function(){
                    //Memorabilia card
                    {
                        //RESET
                        this.lastBox.memorabilia = {
                            isNew: false,
                            type: '',
                            card: ''
                        }
                        let randomIndex = Math.floor(Math.random() * this.pool.memorabilia.length);
                        let memorabiliaCard = this.pool.memorabilia[randomIndex]
                        // Performance tip: scambio l'elemento trovato con l'ultimo e uso pop
                        this.pool.memorabilia[randomIndex] = this.pool.memorabilia[this.pool.memorabilia.length - 1];
                        this.pool.memorabilia.pop();
                        let isNew = !this.cards[memorabiliaCard.type][memorabiliaCard.card]
                        this.cards[memorabiliaCard.type][memorabiliaCard.card]++
                        this.lastBox.memorabilia.isNew = isNew
                        this.lastBox.memorabilia.type = memorabiliaCard.type
                        this.lastBox.memorabilia.card = memorabiliaCard.card
                    }

                    //Medallion card
                    {
                        //RESET
                        this.lastBox.medallion = {
                            isNew: false,
                            card: ''
                        }
                        let randomIndex = Math.floor(Math.random() * this.pool.medallion.length);
                        let medallionCard = this.pool.medallion[randomIndex]
                        // Performance tip: scambio l'elemento trovato con l'ultimo e uso pop
                        this.pool.medallion[randomIndex] = this.pool.medallion[this.pool.medallion.length - 1];
                        this.pool.medallion.pop();
                        let isNew = !this.cards.medallion[medallionCard]
                        this.cards.medallion[medallionCard]++
                        this.lastBox.medallion.isNew = isNew
                        this.lastBox.medallion.card = medallionCard
                    }

                    //Signed Checklist
                    {
                        //RESET
                        this.lastBox.hasSignedChecklist = false
                        let randomIndex = Math.floor(Math.random() * this.pool.signedChecklist.length);
                        let signedChecklist = this.pool.signedChecklist[randomIndex]
                        // Performance tip: scambio l'elemento trovato con l'ultimo e uso pop
                        this.pool.signedChecklist[randomIndex] = this.pool.signedChecklist[this.pool.signedChecklist.length - 1];
                        this.pool.signedChecklist.pop();
                        if( signedChecklist ){
                            this.cards.signedChecklist++
                            this.lastBox.hasSignedChecklist = true
                        } else {
                            this.cards.checklist++
                            this.lastBox.hasSignedChecklist = false
                        }
                    }

                    //SPECIAL
                    {
                        //RESET
                        this.lastBox.special = []
                        //6 packs, 3 per pack (18 total), no duplicate in pack
                        for( let pack = 1; pack <= 6; pack++ ){
                            let specialInPack = []
                            for( let i = 1; i <= 3; i++ ){
                                let randomIndex = Math.floor(Math.random() * this.pool.special.length);
                                let specialCard = this.pool.special[randomIndex]
                                if( !specialInPack.includes(specialCard.type+specialCard.card) ){
                                    specialInPack.push(specialCard.type+specialCard.card)
                                    // Performance tip: scambio l'elemento trovato con l'ultimo e uso pop
                                    this.pool.special[randomIndex] = this.pool.special[this.pool.special.length - 1];
                                    this.pool.special.pop();
                                    let isNew = !this.cards[specialCard.type][specialCard.card]
                                    this.cards[specialCard.type][specialCard.card]++
                                    this.lastBox.special.push({
                                        isNew: isNew,
                                        type: specialCard.type,
                                        card: specialCard.card
                                    })
                                } else {
                                    i--
                                }
                            }
                        }
                    }

                    //REGULAR
                    {
                        //RESET
                        this.lastBox.regular = []
                        //6 packs, 4 per pack (24 total), no duplicate in pack
                        for( let pack = 1; pack <= 6; pack++ ){
                            let regularInPack = []
                            for( let i = 1; i <= 4; i++ ){
                                let randomIndex = Math.floor(Math.random() * this.pool.regular.length);
                                let regularCard = this.pool.regular[randomIndex]
                                if( !regularInPack.includes(regularCard) ){
                                    regularInPack.push(regularCard)
                                    // Performance tip: scambio l'elemento trovato con l'ultimo e uso pop
                                    this.pool.regular[randomIndex] = this.pool.regular[this.pool.regular.length - 1];
                                    this.pool.regular.pop();
                                    let isNew = !this.cards.regular[regularCard]
                                    this.cards.regular[regularCard]++
                                    this.lastBox.regular.push({
                                        isNew: isNew,
                                        card: regularCard
                                    })
                                } else {
                                    i--
                                }
                            }
                        }
                    }

                    //PARALLEL
                    {
                        //RESET
                        this.lastBox.parallel = []
                        //6 packs, 2 pack: 3 per pack + 4 pack: 2 per pack (14 total), no duplicate in pack
                        for( let pack = 1; pack <= 6; pack++ ){
                            let parallelInPack = []
                            for( let i = pack <= 2 ? 3 : 2; i <= 3; i++ ){
                                let randomIndex = Math.floor(Math.random() * this.pool.parallel.length);
                                let parallelCard = this.pool.parallel[randomIndex]
                                if( !parallelInPack.includes(parallelCard) ){
                                    parallelInPack.push(parallelCard)
                                    // Performance tip: scambio l'elemento trovato con l'ultimo e uso pop
                                    this.pool.parallel[randomIndex] = this.pool.parallel[this.pool.parallel.length - 1];
                                    this.pool.parallel.pop();
                                    let isNew = !this.cards.regularParallel[parallelCard]
                                    this.cards.regularParallel[parallelCard]++
                                    this.lastBox.parallel.push({
                                        isNew: isNew,
                                        card: parallelCard
                                    })
                                } else {
                                    i--
                                }
                            }
                        }
                    }

                    //NUMBERED
                    {
                        //RESET
                        this.lastBox.numbered = []
                        for( let i = 1; i <= 4; i++ ){
                            let randomIndex = Math.floor(Math.random() * this.pool.numbered.length);
                            let numberedCard = this.pool.numbered[randomIndex]
                            // Performance tip: scambio l'elemento trovato con l'ultimo e uso pop
                            this.pool.numbered[randomIndex] = this.pool.numbered[this.pool.numbered.length - 1];
                            this.pool.numbered.pop();
                            let isNew = !this.cards[numberedCard.type][numberedCard.card]
                            this.cards[numberedCard.type][numberedCard.card]++
                            this.lastBox.numbered.push({
                                isNew: isNew,
                                type: numberedCard.type,
                                card: numberedCard.card
                            })
                        }
                    }

                    this.cards.promo++
                    this.cards.guide++
                    this.cards.emptyBox++
                    this.cards.emptyPacks += 6
                },
                modalOpened: false,
                infoProb(){
                    this.modalOpened = true
                    console.log('info prob')
                },
                closeModal(){
                    this.modalOpened = false
                }
            }
            //regular
            for( let i = 1; i <= 110; i++ ){
                obj.cards.regular[i] = 0
                //pool
                for( let ii = 1; ii <= 7596; ii++){
                    obj.pool.regular.push(i)
                }
            }
            //regularParallel
            for( let i = 1; i <= 110; i++ ){
                obj.cards.regularParallel[i] = 0
                //pool
                for( let ii = 1; ii <= 4431; ii++){
                    obj.pool.parallel.push(i)
                }
            }
            //numbered
            let numberedTypes = [500, 300, 200, 100, 75, 50, 25, 10, 5, 1]
            numberedTypes.forEach(el => {
                for( let i = 1; i <= 110; i++ ){
                    let keyName = 'regular'+ el
                    obj.cards[keyName][i] = 0
                    //pool
                    for( let ii = 1; ii <= el; ii++ ){
                        obj.pool.numbered.push({
                            type: keyName,
                            card: i,
                            number: ii
                        })
                    }
                }
            })
            //special lenticular
            for( let i = 1; i <= 10; i++ ){
                obj.cards.specialLenticular[i] = 0
                //pool
                for( let ii = 1; ii <= 125330; ii++){
                    obj.pool.special.push({
                        type: 'specialLenticular',
                        card: i,
                    })
                }
            }
            //special canvas
            for( let i = 1; i <= 10; i++ ){
                obj.cards.specialCanvas[i] = 0
                //pool
                for( let ii = 1; ii <= 125330; ii++){
                    obj.pool.special.push({
                        type: 'specialCanvas',
                        card: i,
                    })
                }
            }
            //special glow
            for( let i = 1; i <= 10; i++ ){
                obj.cards.specialGlow[i] = 0
                //pool
                for( let ii = 1; ii <= 125330; ii++){
                    obj.pool.special.push({
                        type: 'specialGlow',
                        card: i,
                    })
                }
            }
            //special cell
            for( let i = 1; i <= 20; i++ ){
                obj.cards.specialCel[i] = 0
                //pool
                for( let ii = 1; ii <= 125340; ii++){
                    obj.pool.special.push({
                        type: 'specialCel',
                        card: i,
                    })
                }
            }
            //medallion
            for( let i = 1; i <= 7; i++ ){
                obj.cards.medallion[i] = 0
                //pool
                let differentCondition = i < 4 ? 4974 : 4973
                for(let ii = 1; ii <= differentCondition; ii++ ){
                    obj.pool.medallion.push(i)
                }
            }
            //memorabilia sketch
            for( let i = 1; i <= 150; i++ ){
                obj.cards.memorabiliaSketch[i] = 0
                //pool
                obj.pool.memorabilia.push({
                    type: 'memorabiliaSketch',
                    card: i,
                })
            }
            //memorabilia signed
            for( let i = 1; i <= 7; i++ ){
                obj.cards.memorabiliaSigned[i] = 0
                //pool
                for( let ii = 1; ii <= 500; ii++){
                    obj.pool.memorabilia.push({
                        type: 'memorabiliaSigned',
                        card: i,
                    })
                }
            }
            //memorabilia frame
            for( let i = 1; i <= 150; i++ ){
                obj.cards.memorabiliaFrame[i] = 0
                //pool
                for( let ii = 1; ii <= 150; ii++){
                    obj.pool.memorabilia.push({
                        type: 'memorabiliaFrame',
                        card: i,
                    })
                }
            }
            //memorabilia badge
            for( let i = 1; i <= 150; i++ ){
                obj.cards.memorabiliaBadge[i] = 0
                //pool
                for( let ii = 1; ii <= 58; ii++){
                    obj.pool.memorabilia.push({
                        type: 'memorabiliaBadge',
                        card: i,
                    })
                }
            }
            //signed checklist
            for( let i = 1; i <= 34814; i++ ){
                //pool
                obj.pool.signedChecklist[i] = 0
            }
            obj.pool.signedChecklist[34815] = 1
            Alpine.data('app', () => (obj));
        });
    </script>
</head>
<body x-data="app">
    <div class="modal-wrapper" @click="closeModal()" x-show="modalOpened">
        <div class="modal-content p-4 rounded" @click="(e) => {e.stopPropagation()}">
            Di seguito i ragionamenti e le ipotesi che hanno portato ad avere questa distribuzione del set.
            <br>Ringrazio i ragazzi di Telegram per l'aiuto, senza di loro non sarebbe stato possibile fare nulla.
            <br>

            <br>Sappiamo che in ogni box ci sono 4 numerate garantite.
            <br>Le numerazioni sono /500, /300, /200, /100, /75, /50, /25, /10, /5, /1.
            <br>Le carte che possono essere trovate numerate sono le 110 "regular".
            <br>Da questi dati deduciamo che complessivamente esistono 139.260 carte numerate.
            <br>Essendo distribuite 4 per box, esistono 34.815 box.
            <br>

            <br>Sappiamo che le carte "regular" sono 110 diverse, distribuite 24 per box.
            <br>Deduciamo che complessivamente esistono 835.560 carte "regular", nello specifico 7.596 copie di ognuna delle 110 carte.
            <br>

            <br>Sappiamo che le carte "parallel" sono sempre 110 diverse, essendo una versione alternativa delle "regular", distribuite 14 per box.
            <br>Deduciamo che complessivamente esistono 487.410 carte "parallel", nello specifico 4.431 copie di ognuna delle 110 carte.
            <br>

            <br>Sappiamo che le "medallion" sono distribuite 1 per box e ne esistono 7 tipi diversi. Quindi in totale sono 34.815.
            <br>Però essendo di 7 tipi diversi, l'ipotesi è la seguente: 4 di questi tipi hanno ognuno 4.974 carte e gli altri 3 tipi hanno ognuno 4.973 carte
            <br>

            <br>Sappiamo che le carte "special" sono 50 diverse, distribuite 18 per box e di 4 tipologie diverse.
            <br>"lenticolari", "canvas", "glow in the dark" e "CEL". Le CEL sono quelle sovrapponibili, quindi ogni carta è in realtà la composizione di 2 diverse carte.
            <br>Deduciamo che saranno: 10 diverse "lenticolari", 10 diverse "canvas", 10 diverse "glow in the dark" e 20 diverse "CEL" (che quindi componendosi è come se diventassero 10, ma si trovano separatamente).
            <br>Esistono un totale di 626.670 carte "special". 
            <br>Per far tornare i conti, ipotizziamo 12.534 copie di ogni carta CEL e 12.533 copie di ognuna delle altre tipologie.
            <br>

            <br>Le carte "memorabilia" sono quelle dove ancora adesso ho più dubbi.
            <br>Sappiamo che sono distribuite 1 per box, quindi in totale sono 34.815.
            <br>Sono di 4 tipologie: "badge", "frame", "sign" e "sketch".
            <br>Secondo le informazioni che abbiamo, speculazioni fatte, stralci di live e triangolando i numeri per far tornare i conti, questa è l'ipotesi attuale:
            <br>Le "sketch" sono 1 per ogni corto, in singola copia 1:1, per un totale di 150.
            <br>Le "signed" si ipotizza siano di 7 diversi personaggi. 495 copie per carta per un totale di 3.465.
            <br>Le "frame" si ipotizza siano una per corto, 150 copie ognuna. In totale 22.500.
            <br>Le "patch" sono per me le più confuse. Da alcune fonti sono 20 diverse, ma da live di Dario ogni carta può avere uno di 3 sfondi diversi, quindi devono essere in multipli di 3.
            <br>Attualmente sono ipotizzate essere 50 diverse, ognuna con i 3 sfondi, per un totale di 150 diverse. 435 copie ognuna, per un totale di 8.700.
            <br>

            <br>Esiste inoltre 1 singola "checklist" firmata e quindi altre 34.814 "checklist" non firmate.

            <br>All'apertura di ogni box vengono anche ottenuti i seguenti oggetti:
            <br>1 Guida
            <br>1 Promo
            <br>1 box vuoto (ovvero quello aperto)
            <br>6 buste vuote (ovvero quelle aperte)
            <br>

            <br>Questo programma tiene conto dell'apertura di ogni singola busta per gestire la randomizzazione, dato che da quello che sappiamo non sarà possibile trovare carte doppie nello stesso pacchetto.
            <br>Di seguito la struttura ipotizzata dei pacchetti:
            <br>In ogni pacchetto ci sono 4 carte "regular" diverse tra loro.
            <br>In 2 pacchetti ci sono 3 carte "parallel" diverse tra loro e in 4 pacchetti 2 carte "parallel" diverse tra loro.
            <br>Nei 4 pacchetti con sole 2 carte "parallel" c'è una carta numerata.
            <br>In ogni pacchetto ci sono 3 carte "speciali" diverse tra loro.
            <br>

            <br>P.S. se avete nozioni di Javascript, in questo caso combinato ad Alpine.js, potete visionare il codice sorgente in quanto non l'ho offuscato in alcun modo.
            <br>Se avete correzioni di qualsiasi tipo o volete discutere le ipotesi potete cercarmi su Telegram nel gruppo dedicato, nel dubbio chiedete di "Simosauro".
            <br>
            
            <br>P.P.S. questo progetto l'ho fatto in 2 sere per noia e curiosità, quindi perdonate la poca professionalità e la mancanza del responsive.
        </div>
    </div>
    <div class="row g-0 p-1 mb-2 bg-dark">
        <div class="col col-6 ps-2 text-secondary">
            <span> <b style="cursor: pointer" @click="infoProb()"><u>Como sono stati ottenuti questi dati?</u></b> </span>
        </div>
        <div class="col col-3 d-flex flex-wrap pe-4 text-secondary align-items-center justify-content-end">
            <span>Legenda: </span>
            <div class="card me-1 ms-2 d-flex align-items-center justify-content-center golded">
                <span> 1 </span>
            </div>
            <span>Card found</span>
            <div class="card d-flex align-items-center justify-content-center me-1 ms-3">
                <span> 1 </span>
            </div>
            <span>Card not found</span>
        </div>
        <div class="col col-3 d-flex flex-wrap pe-4 text-secondary align-items-center justify-content-end">
            <span>Legenda: </span>
            <div class="card me-1 ms-2 d-flex align-items-center justify-content-center golded">
                <span> 1 </span>
            </div>
            <span>New card</span>
            <div class="card d-flex align-items-center justify-content-center me-1 ms-3">
                <span> 1 </span>
            </div>
            <span>Duplicate card</span>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row g-0">
            <div class="col col-9 pe-3">
                <!-- Regular cards -->
                <div class="row g-0">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Regular</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <!-- Parallel cards -->
                <div class="row g-0">
                    <div class="col p-1 px-2 rounded-top-1 mt-2 bg-dsny-red text-dsny-light">
                        <span>Parallel</span>
                    </div>
                </div>
                <div class="row g-0">
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regularParallel">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>        
                </div>
                <!-- Special cards -->
                <div class="row mt-2">
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>SPECIAL Lenticular</span>
                        </div>
                        <div class="mt-1">
                            <template x-for="(card, index) in cards.specialLenticular">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                    <span x-text="index"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>SPECIAL Canvas</span>
                        </div>
                        <div class="mt-1">
                            <template x-for="(card, index) in cards.specialCanvas">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                    <span x-text="index"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>SPECIAL Glow</span>
                        </div>
                        <div class="mt-1">
                            <template x-for="(card, index) in cards.specialGlow">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                    <span x-text="index"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>SPECIAL CEL</span>
                        </div>
                        <div class="mt-1">
                            <template x-for="(card, index) in cards.specialCel">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                    <span x-text="index"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                    
                </div>
                <!-- Medallion and Memorabilia -->
                <div class="row mt-2">
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>MEMORABILIA Signed</span>
                        </div>
                        <div class="mt-1">
                            <template x-for="(card, index) in cards.memorabiliaSigned">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                    <span x-text="index"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>Medallion</span>
                        </div>
                        <div class="mt-1">
                            <template x-for="(card, index) in cards.medallion">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                    <span x-text="index"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>Promo</span>
                        </div>
                        <div class="mt-1">
                            <div class="card card-fluid d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="cards.promo > 0 ? 'golded' : ''">
                                <span> n. <span x-text="cards.promo"></span> </span>
                            </div>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>Checklist</span>
                        </div>
                        <div class="mt-1">
                            <div class="card card-fluid d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="cards.checklist > 0 ? 'golded' : ''">
                                <span> n. <span x-text="cards.checklist"></span> </span>
                            </div>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>Signed Checklist</span>
                        </div>
                        <div class="mt-1">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="cards.signedChecklist > 0 ? 'golded' : ''">
                                <span> 1 </span>
                            </div>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>Guide</span>
                        </div>
                        <div class="mt-1">
                            <div class="card card-fluid d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="cards.guide > 0 ? 'golded' : ''">
                                <span> n. <span x-text="cards.guide"></span> </span>
                            </div>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>Empty Box</span>
                        </div>
                        <div class="mt-1">
                            <div class="card card-fluid d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="cards.emptyBox > 0 ? 'golded' : ''">
                                <span> n. <span x-text="cards.emptyBox"></span> </span>
                            </div>
                        </div>
                    </div>
                    <div class="col col-auto">
                        <div class="bg-dsny-red p-1 px-2 rounded-top-1 text-dsny-light">
                            <span>Empty Packs</span>
                        </div>
                        <div class="mt-1">
                            <div class="card card-fluid d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="cards.emptyPacks > 0 ? 'golded' : ''">
                                <span> n. <span x-text="cards.emptyPacks"></span> </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>MEMORABILIA Sketch</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.memorabiliaSketch">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>MEMORABILIA Frame</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.memorabiliaFrame">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>MEMORABILIA Badge</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.memorabiliaBadge">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <!-- Numbered cards -->
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /500</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular500">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /300</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular300">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /200</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular200">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /100</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular100">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /75</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular75">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /50</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular50">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /25</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular25">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /10</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular10">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /5</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular5">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
                <div class="row g-0 mt-2">
                    <div class="col p-1 px-2 rounded-top-1 bg-dsny-red text-dsny-light">
                        <span>Numbered /1</span>
                    </div>
                </div>
                <div class="row g-0">  
                    <div class="col mt-1">
                        <template x-for="(card, index) in cards.regular1">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="card > 0 ? 'golded' : ''">
                                <span x-text="index"></span>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
            <div class="col col-3 p-3 ps-5 text-center col-dx">
                <span class="d-block text-dsny-light text-center">Open box: <b x-text="cards.emptyBox"></b></span>
                <span class="d-block text-dsny-light text-center">Money spent: <b x-text="new Intl.NumberFormat('it-IT', {style: 'decimal', minimumFractionDigits: 2, maximumFractionDigits: 2}).format(cards.emptyBox * 140)"></b> €</span>
                <div class="wrapper d-flex justify-content-center mt-5 mb-5">
                    <div class="btn btn-lg bg-dsny-gold open-box" @click="openBox">
                        OPEN BOX
                    </div>
                </div>

                <div x-show="cards.emptyBox > 0">
                    <div class="row g-0 mt-3">
                        <div class="col col-4 px-2 d-flex justify-content-start bg-dsny-gold rounded-top-1">
                            <span class="fw-bold">
                                Meborabilia
                            </span>
                        </div>
                        <div class="col col-3 px-2 offset-1 d-flex justify-content-start bg-dsny-gold rounded-top-1">
                            <span class="fw-bold">
                                Medallion
                            </span>
                        </div>
                        <div class="col col-3 px-2 offset-1 d-flex justify-content-start bg-dsny-gold rounded-top-1">
                            <span class="fw-bold">
                                Checklist
                            </span>
                        </div>
                    </div>
                    <div class="row g-0 mt-1">
                        <div class="col col-4 d-flex justify-content-start align-items-center">
                            <span class="text-dsny-light me-2" x-text="translateType(lastBox.memorabilia.type)"></span>
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="lastBox.memorabilia.isNew ? 'golded' : ''">
                                <span x-text="lastBox.memorabilia.card"></span>
                            </div>
                        </div>
                        <div class="col col-3 offset-1">
                            <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="lastBox.medallion.isNew ? 'golded' : ''">
                                <span x-text="lastBox.medallion.card"></span>
                            </div>
                        </div>
                        <div class="col col-3 offset-1 d-flex justify-content-start">
                            <div class="card card-fluid d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="lastBox.HasSignedChecklist ? 'golded' : ''">
                                <span x-text="lastBox.HasSignedChecklist ? 'Signed Checklist' : 'Checklist'"> 1 </span>
                            </div>
                        </div>
                    </div>
    
                    <div class="row g-0 mt-1">
                        <div class="col px-2 d-flex justify-content-start bg-dsny-gold rounded-top-1">
                            <span class="fw-bold">
                                SPECIAL
                            </span>
                        </div>
                    </div>
                    <div class="row g-0 mt-1">
                        <div class="col d-flex justify-content-center">
                            <span class="text-dsny-light me-2"> 
                                Lenticular 
                            </span>
                        </div>
                        <div class="col col-auto px-3"></div>
                        <div class="col d-flex justify-content-center">
                            <span class="text-dsny-light me-2"> 
                                Canvas 
                            </span>
                        </div>
                    </div>
                    <div class="row g-0">
                        <div class="col d-flex flex-wrap justify-content-center">
                            <template x-for="special in lastBox.special.filter(e => e.type === 'specialLenticular')">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="special.isNew ? 'golded' : ''">
                                    <span x-text="special.card"></span>
                                </div>
                            </template>
                        </div>
                        <div class="col col-auto px-3"></div>
                        <div class="col d-flex flex-wrap justify-content-center">
                            <template x-for="canvas in lastBox.special.filter(e => e.type === 'specialCanvas')">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="canvas.isNew ? 'golded' : ''">
                                    <span x-text="canvas.card"></span>
                                </div>
                            </template>
                        </div> 
                    </div>
                    <div class="row g-0 mt-1">
                        <div class="col d-flex justify-content-center">
                            <span class="text-dsny-light me-2"> 
                                Glow 
                            </span>
                        </div>
                        <div class="col col-auto px-3"></div>
                        <div class="col d-flex justify-content-center">
                            <span class="text-dsny-light me-2"> 
                                CEL 
                            </span>
                        </div>
                    </div>
                    <div class="row g-0">
                        <div class="col d-flex flex-wrap justify-content-center">
                            <template x-for="glow in lastBox.special.filter(e => e.type === 'specialGlow')">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="glow.isNew ? 'golded' : ''">
                                    <span x-text="glow.card"></span>
                                </div>
                            </template>
                        </div>
                        <div class="col col-auto px-3"></div>
                        <div class="col d-flex flex-wrap justify-content-center">
                            <template x-for="cel in lastBox.special.filter(e => e.type === 'specialCel')">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="cel.isNew ? 'golded' : ''">
                                    <span x-text="cel.card"></span>
                                </div>
                            </template>
                        </div> 
                    </div>
    
                    <div class="row g-0 mt-1">
                        <div class="col px-2 d-flex justify-content-start bg-dsny-gold rounded-top-1">
                            <span class="fw-bold">
                                Regular
                            </span>
                        </div>
                    </div>
                    <div class="row g-0 mt-1">
                        <div class="col d-flex flex-wrap justify-content-center">
                            <template x-for="regular in lastBox.regular">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="regular.isNew ? 'golded' : ''">
                                    <span x-text="regular.card"></span>
                                </div>
                            </template>
                        </div>
                    </div>
    
                    <div class="row g-0 mt-1">
                        <div class="col px-2 d-flex justify-content-start bg-dsny-gold rounded-top-1">
                            <span class="fw-bold">
                                Parallel
                            </span>
                        </div>
                    </div>
                    <div class="row g-0 mt-1">
                        <div class="col d-flex flex-wrap justify-content-center">
                            <template x-for="parallel in lastBox.parallel">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="parallel.isNew ? 'golded' : ''">
                                    <span x-text="parallel.card"></span>
                                </div>
                            </template>
                        </div>
                    </div>
    
                    <div class="row g-0 mt-1">
                        <div class="col px-2 d-flex justify-content-start bg-dsny-gold rounded-top-1">
                            <span class="fw-bold">
                                Numbered
                            </span>
                        </div>
                    </div>
    
                    
                    <div class="row g-0 mt-1">
                        <template x-for="numbered in lastBox.numbered">
                            <div class="col d-flex justify-content-center">
                                <span class="text-dsny-light me-2" x-text="translateType(numbered.type)"></span>
                            </div>
                        </template>
                    </div>
                    <div class="row g-0 mt-1">
                        <template x-for="numbered in lastBox.numbered">
                            <div class="col d-flex flex-wrap justify-content-center">
                                <div class="card d-flex align-items-center justify-content-center float-start me-1 mb-1" :class="numbered.isNew ? 'golded' : ''">
                                    <span x-text="numbered.card"></span>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
</body>
</html>
